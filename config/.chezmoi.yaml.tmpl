{{- $choices := list "private" "work" -}}
{{- $workspace:= promptChoiceOnce . "workspace" "Workspace?" $choices "private" -}}

encryption: age
age:
  identity: ~/.config/chezmoi/key.txt
  recipient: age1cc23vqe4w0hkz64ttcc9l6pghycsdkquegyxg8dq3r4z72twacdqlfuz64

diff:
  pager: delta

data:
  # Any of `private`, `work`
  workspace: {{ $workspace }}

  gpg:
    {{- if contains $workspace "work" }}
    defaultKeyFingerprint: C2F8DE28F8AB11118966910837A5F59C07097058
    {{- else }}
    defaultKeyFingerprint: F24F52A877FC8A640A836E1DF9E3B0FF9D4E7A81
    {{- end }}

  # Git Setup.
  git:
    diffTool: nvim
    mergeTool: vscode

    configPath: {{ .chezmoi.homeDir }}/.config/git
    toolsPath: {{ .chezmoi.homeDir }}/.config/git/tools

    githooksPackaged: {{if eq .chezmoi.osRelease.id "nixos" }}true{{else}}false{{end}}
    githooksCloneURL: https://github.com/gabyx/githooks.git
    githooksCloneBranch: main

    {{- if contains $workspace "work" }}
    userEmail: gabriel.nuetzi@sdsc.ethz.ch
    userName: Gabriel Nützi
    {{- else }}
    userEmail: gnuetzi@gmail.com
    userName: Gabriel Nützi
    {{- end }}
